<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>stm32标准库项目构建</title>
      <link href="/2025/11/02/stm32%E6%A0%87%E5%87%86%E5%BA%93%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA/"/>
      <url>/2025/11/02/stm32%E6%A0%87%E5%87%86%E5%BA%93%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h1 id="新建一个项目"><a href="#新建一个项目" class="headerlink" title="新建一个项目"></a>新建一个项目</h1><h2 id="keil5内配置步骤"><a href="#keil5内配置步骤" class="headerlink" title="keil5内配置步骤"></a>keil5内配置步骤</h2><h3 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置:"></a>基本配置:</h3><p>首先新建一个工程文件夹, 在keil5里面依次选择<code>Project-&gt;New μVison Project</code>, 命名并且创建一个工程文件, 然后选择芯片型号, 例如我这里是<code>stm32F103c8t6</code>, 其他型号的操作相同:  </p><p><img src="image-20251102200405656.png" alt="image-20251102200405656"></p><p>然后在工程文件里面分别新建<code>Start</code>, <code>Library</code>和<code>User</code>三个文件夹(名称不做要求), 复制固件库里面的文件到工程文件夹:</p><p><img src="image-20251102195857838.png" alt="image-20251102195857838"></p><h3 id="在Start文件夹添加工程文件"><a href="#在Start文件夹添加工程文件" class="headerlink" title="在Start文件夹添加工程文件:"></a>在<code>Start</code>文件夹添加工程文件:</h3><p>首先复制在<code>...\STM32F10x_StdPeriph_Lib_V3.6.0\Libraries\CMSIS\CM3\DeviceSupport\ST\STM32F10x\startup\arm</code>内的<code>startup</code>文件, 具体复制哪一个根据你的芯片型号选择, 我这里选择后缀为<code>_md</code>的文件: </p><p><img src="image-20251102200937015.png" alt="image-20251102200937015"></p><p>接下来复制在<code>...\STM32F10x_StdPeriph_Lib_V3.6.0\Libraries\CMSIS\CM3\DeviceSupport\ST\STM32F10x</code>内的三个文件, 分别对应着一个外设寄存器描述文件, 两个时钟配置文件: </p><p><img src="image-20251102201140082.png" alt="image-20251102201140082"></p><p>最后复制在<code>...\STM32F10x_StdPeriph_Lib_V3.6.0\Libraries\CMSIS\CM3\CoreSupport</code>下的文件, 也就是内核寄存器描述文件: </p><p><img src="image-20251102201610944.png" alt="image-20251102201610944"></p><p>把上述文件粘贴至刚刚创建的<code>Start</code>文件夹中: </p><p><img src="image-20251102201828845.png" alt="image-20251102201828845"></p><h3 id="在Library文件夹添加工程文件"><a href="#在Library文件夹添加工程文件" class="headerlink" title="在Library文件夹添加工程文件:"></a>在<code>Library</code>文件夹添加工程文件:</h3><p>复制<code>...\STM32F10x_StdPeriph_Lib_V3.6.0\Libraries\STM32F10x_StdPeriph_Driver\inc</code>下的所有文件: </p><p><img src="image-20251102202256225.png" alt="image-20251102202256225"></p><p>复制<code>...\STM32F10x_StdPeriph_Lib_V3.6.0\Libraries\STM32F10x_StdPeriph_Driver\src</code>下的所有文件: </p><p><img src="image-20251102202324419.png" alt="image-20251102202324419"></p><p>把上述文件粘贴至刚刚创建的<code>Library</code>文件夹中.</p><h3 id="在User文件夹添加工程文件"><a href="#在User文件夹添加工程文件" class="headerlink" title="在User文件夹添加工程文件:"></a>在<code>User</code>文件夹添加工程文件:</h3><p>复制<code>...\STM32F10x_StdPeriph_Lib_V3.6.0\Project\STM32F10x_StdPeriph_Template</code>下的这三个文件, 分别用来配置库函数头文件的包含关系和中断处理函数:</p><p><img src="image-20251102202541838.png" alt="image-20251102202541838"></p><p>把上述文件粘贴至刚刚创建的<code>User</code>文件夹中.</p><h3 id="keil5中引入文件"><a href="#keil5中引入文件" class="headerlink" title="keil5中引入文件:"></a>keil5中引入文件:</h3><p>回到keil5, 创建三个Group, 名字分别对应: </p><p><img src="image-20251102203108146.png" alt="image-20251102203108146"></p><p>双击每一个文件夹, 将刚刚复制的文件全部添加进去: </p><p><img src="image-20251102203345789.png" alt="image-20251102203345789"></p><p><img src="image-20251102203409106.png" alt="image-20251102203409106"></p><p><img src="image-20251102203434748.png" alt="image-20251102203434748"></p><p>然后点击<code>魔术棒-&gt;C/C++-&gt;Include Paths</code>, 把刚刚三个文件夹全部include一下: </p><p><img src="image-20251102203629137.png" alt="image-20251102203629137"></p><p>如果需要在keil5里面编译和调试, 首先在魔术棒选项把编译器改成AC5, 在<code>Debug</code>选项选择你的烧录器, 我这里是<code>ST-Link</code>, 在<code>Settings-&gt;Flash Download</code>里勾选Reset and Run, 在<code>Pack</code>里取消勾选Enable即可.</p><p>在<code>C/C++</code>选项添加宏定义<code>USE_STDPERIPH_DRIVER</code>: </p><p><img src="image-20251102204951905.png" alt="image-20251102204951905"></p><p>我们这里右键User文件夹, 添加新的.c文件作为main文件, 并且include一下<code>stm32f10x.h</code>文件, 注意最后一行留空, 不然会警告: </p><p><img src="image-20251102204700740.png" alt="image-20251102204700740"></p><p><img src="image-20251102205216584.png" alt="image-20251102205216584"></p><p>我们最后编译并烧录, 没有问题: </p><p><img src="image-20251102205310635.png" alt="image-20251102205310635"></p>]]></content>
      
      
      <categories>
          
          <category> tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> stm32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>帮助文档</title>
      <link href="/2025/10/28/%E5%B8%AE%E5%8A%A9%E6%96%87%E6%A1%A3/"/>
      <url>/2025/10/28/%E5%B8%AE%E5%8A%A9%E6%96%87%E6%A1%A3/</url>
      
        <content type="html"><![CDATA[<h1 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h1><h2 id="关于博客的参数"><a href="#关于博客的参数" class="headerlink" title="关于博客的参数"></a>关于博客的参数</h2><h3 id="Page参数"><a href="#Page参数" class="headerlink" title="Page参数:"></a>Page参数:</h3><table><thead><tr><th>title</th><th>【必需】页面标题</th></tr></thead><tbody><tr><td>date</td><td>【必需】页面创建日期</td></tr><tr><td>type</td><td>【必需】标籤、分类和友情链接三个页面需要配置</td></tr><tr><td>updated</td><td>【可选】页面更新日期</td></tr><tr><td>description</td><td>【可选】页面描述</td></tr><tr><td>keywords</td><td>【可选】页面关键字</td></tr><tr><td>comments</td><td>【可选】显示页面评论模块(默认 true)</td></tr><tr><td>top_img</td><td>【可选】页面顶部图片</td></tr><tr><td>mathjax</td><td>【可选】显示mathjax(当设置mathjax的per_page: false时，才需要配置，默认 false)</td></tr><tr><td>kates</td><td>【可选】显示katex(当设置katex的per_page: false时，才需要配置，默认 false)</td></tr><tr><td>aside</td><td>【可选】显示侧边栏 (默认 true)</td></tr><tr><td>aplayer</td><td>【可选】在需要的页面加载aplayer的js和css,请参考文章下面的音乐 配置</td></tr><tr><td>highlight_shrink</td><td>【可选】配置代码框是否展开(true&#x2F;false)(默认为设置中highlight_shrink的配置)</td></tr></tbody></table><h3 id="Post参数"><a href="#Post参数" class="headerlink" title="Post参数:"></a>Post参数:</h3><table><thead><tr><th>title</th><th>【必需】文章标题</th></tr></thead><tbody><tr><td>date</td><td>【必需】文章创建日期</td></tr><tr><td>updated</td><td>【可选】文章更新日期</td></tr><tr><td>tags</td><td>【可选】文章标籤</td></tr><tr><td>categories</td><td>【可选】文章分类</td></tr><tr><td>keywords</td><td>【可选】文章关键字</td></tr><tr><td>description</td><td>【可选】文章描述</td></tr><tr><td>top_img</td><td>【可选】文章顶部图片</td></tr><tr><td>cover</td><td>【可选】文章缩略图(如果没有设置top_img,文章页顶部将显示缩略图，可设为false&#x2F;图片地址&#x2F;留空)</td></tr><tr><td>comments</td><td>【可选】显示文章评论模块(默认 true)</td></tr><tr><td>toc</td><td>【可选】显示文章TOC(默认为设置中toc的enable配置)</td></tr><tr><td>toc_number</td><td>【可选】显示toc_number(默认为设置中toc的number配置)</td></tr><tr><td>toc_style_simple</td><td>【可选】显示 toc 简洁模式</td></tr><tr><td>copyright</td><td>【可选】显示文章版权模块(默认为设置中post_copyright的enable配置)</td></tr><tr><td>copyright_author</td><td>【可选】文章版权模块的文章作者</td></tr><tr><td>copyright_author_href</td><td>【可选】文章版权模块的文章作者链接</td></tr><tr><td>copyright_url</td><td>【可选】文章版权模块的文章连结链接</td></tr><tr><td>copyright_info</td><td>【可选】文章版权模块的版权声明文字</td></tr><tr><td>mathjax</td><td>【可选】显示mathjax(当设置mathjax的per_page: false时，才需要配置，默认 false)</td></tr><tr><td>katex</td><td>【可选】显示katex(当设置katex的per_page: false时，才需要配置，默认 false)</td></tr><tr><td>aplayer</td><td>【可选】在需要的页面加载aplayer的js和css,请参考文章下面的音乐 配置</td></tr><tr><td>highlight_shrink</td><td>【可选】配置代码框是否展开(true&#x2F;false)(默认为设置中highlight_shrink的配置)</td></tr><tr><td>aside</td><td>【可选】显示侧边栏 (默认 true)</td></tr></tbody></table><h2 id="config-butterfly-yml配置"><a href="#config-butterfly-yml配置" class="headerlink" title="_config.butterfly.yml配置"></a>_config.butterfly.yml配置</h2><h3 id="顶部图"><a href="#顶部图" class="headerlink" title="顶部图:"></a>顶部图:</h3><table><thead><tr><th>配置</th><th>解释</th></tr></thead><tbody><tr><td>index_img</td><td>主页的 top_img</td></tr><tr><td>default_top_img</td><td>默认的 top_img，当页面的 top_img 没有配置时，会显示 default_top_img</td></tr><tr><td>archive_img</td><td>归档页面的 top_img</td></tr><tr><td>tag_img</td><td>tag子页面 的 默认 top_img</td></tr><tr><td>tag_per_img</td><td>tag子页面的 top_img，可配置每个 tag 的 top_img</td></tr><tr><td>category_img</td><td>category 子页面 的 默认 top_img</td></tr><tr><td>category_per_img</td><td>category 子页面的 top_img，可配置每个 category 的 top_img</td></tr></tbody></table><p>其它页面 （tags&#x2F;categories&#x2F;自建页面）和文章页的<code>top_img</code>，请到对应的 md 页面设置<code>front-matter</code>中的<code>top_img</code>。</p><h2 id="文章置顶与封面"><a href="#文章置顶与封面" class="headerlink" title="文章置顶与封面"></a>文章置顶与封面</h2><ol><li>你可以直接在文章的<code>front-matter</code>区域里添加<code>sticky: 1</code>属性来把这篇文章置顶。数值越大，置顶的优先级越大。</li><li>文章的markdown文档上，在<code>Front-matter</code>添加<code>cover</code>，并填上要显示的图片地址。如果不配置<code>cover</code>，可以设置显示默认的<code>cover</code>；如果不想在首页显示cover，可以设置为<code>false</code>。<br>修改主题配置文件<code>_config.butterfly.yml</code>。</li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">cover:</span></span><br><span class="line">  <span class="comment"># 是否显示文章封面</span></span><br><span class="line">  <span class="attr">index_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">aside_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">archives_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 封面显示的位置</span></span><br><span class="line">  <span class="comment"># 三个值可配置 left , right , both</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">both</span></span><br><span class="line">  <span class="comment"># 当没有设置cover时，默认的封面显示</span></span><br><span class="line">  <span class="attr">default_cover:</span> </span><br></pre></td></tr></table></figure><p>当配置多张图片时，会随机选择一张作为cover，此时写法应为：</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">default_cover:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg2.png</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg3.png</span></span><br></pre></td></tr></table></figure><h2 id="添加全局吸底aplayer插件"><a href="#添加全局吸底aplayer插件" class="headerlink" title="添加全局吸底aplayer插件"></a>添加全局吸底aplayer插件</h2><ol><li>安装<code>aplayer</code>插件</li></ol><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-tag-aplayer --save</span><br></pre></td></tr></table></figure><ol start="2"><li>在站点配置文件<code>...\_config.yml</code>中新增配置项，建议直接加在最底下：</li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># APlayer</span></span><br><span class="line"><span class="comment"># https://github.com/MoePlayer/hexo-tag-aplayer/blob/master/docs/README-zh_cn.md</span></span><br><span class="line"><span class="attr">aplayer:</span></span><br><span class="line">  <span class="attr">meting:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">asset_inject:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ol start="3"><li>修改主题配置文件<code>...\_config.butterfly.yml</code>中关于Aplayer的配置内容</li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Inject the css and script (aplayer/meting)</span></span><br><span class="line"><span class="attr">aplayerInject:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><ol start="4"><li>如果想要切换页面不被打断的话，可以修改<code>pjax</code>项</li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">pjax:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Exclude the specified pages from pjax, such as &#x27;/music/&#x27;</span></span><br></pre></td></tr></table></figure><ol start="5"><li>在主题配置文件<code>[Blogroot]\_config.butterfly.yml</code>的inject配置项中添加Aplayer的容器。</li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;&lt;div class=&quot;aplayer no-destroy&quot; data-id=&quot;2724212621&quot; data-server=&quot;netease&quot; data-type=&quot;song&quot; data-fixed=&quot;true&quot; data-autoplay=&quot;true&quot;&gt; &lt;/div&gt;&#x27;</span></span><br></pre></td></tr></table></figure><p>如果给文章嵌入音乐，可以使用如下语法: </p><p>有关 <code>&#123;% meting %&#125;</code> 的选项列表如下</p><table><thead><tr><th>选项</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td><strong>必须值</strong></td><td>歌曲 id &#x2F; 播放列表 id &#x2F; 相册 id &#x2F; 搜索关键字</td></tr><tr><td>server</td><td><strong>必须值</strong></td><td>音乐平台: <code>netease</code>, <code>tencent</code>, <code>kugou</code>, <code>xiami</code>, <code>baidu</code></td></tr><tr><td>type</td><td><strong>必须值</strong></td><td><code>song</code>, <code>playlist</code>, <code>album</code>, <code>search</code>, <code>artist</code></td></tr><tr><td>fixed</td><td><code>false</code></td><td>开启固定模式</td></tr><tr><td>mini</td><td><code>false</code></td><td>开启迷你模式</td></tr><tr><td>loop</td><td><code>all</code></td><td>列表循环模式：<code>all</code>, <code>one</code>,<code>none</code></td></tr><tr><td>order</td><td><code>list</code></td><td>列表播放模式： <code>list</code>, <code>random</code></td></tr><tr><td>volume</td><td>0.7</td><td>播放器音量</td></tr><tr><td>lrctype</td><td>0</td><td>歌词格式类型</td></tr><tr><td>listfolded</td><td><code>false</code></td><td>指定音乐播放列表是否折叠</td></tr><tr><td>storagename</td><td><code>metingjs</code></td><td>LocalStorage 中存储播放器设定的键名</td></tr><tr><td>autoplay</td><td><code>true</code></td><td>自动播放，移动端浏览器暂时不支持此功能</td></tr><tr><td>mutex</td><td><code>true</code></td><td>该选项开启时，如果同页面有其他 aplayer 播放，该播放器会暂停</td></tr><tr><td>listmaxheight</td><td><code>340px</code></td><td>播放列表的最大长度</td></tr><tr><td>preload</td><td><code>auto</code></td><td>音乐文件预载入模式，可选项： <code>none</code>, <code>metadata</code>, <code>auto</code></td></tr><tr><td>theme</td><td><code>#ad7a86</code></td><td>播放器风格色彩设置</td></tr></tbody></table><p>示例</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% meting &quot;2194879666&quot; &quot;netease&quot; &quot;playlist&quot; &quot;autoplay&quot; &quot;mutex:false&quot; &quot;listmaxheight:340px&quot; &quot;preload:none&quot; &quot;theme:#ad7a86&quot;%&#125;</span><br></pre></td></tr></table></figure><p>这样之后可以直接添加到相应的文章页面上</p><p>更多的可以参考插件的官方文档: <a href="https://github.com/MoePlayer/hexo-tag-aplayer/tree/master">MoePlayer&#x2F;hexo-tag-aplayer: Embed aplayer in Hexo posts&#x2F;pages</a></p><h1 id="Extra"><a href="#Extra" class="headerlink" title="Extra"></a>Extra</h1><h2 id="如何在butterfly主题添加ICP备案号"><a href="#如何在butterfly主题添加ICP备案号" class="headerlink" title="如何在butterfly主题添加ICP备案号:"></a>如何在butterfly主题添加ICP备案号:</h2><p>在<code> footer.pug</code> 文件底部添加如下的ICP代码即可</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#...\node_modules\hexo-theme-butterfly\layout\includes\footer.pug</span></span><br><span class="line"><span class="string">.footer-other</span></span><br><span class="line">    <span class="string">.footer-icp</span></span><br><span class="line">      <span class="string">a(href=&#x27;https://icp.gov.moe/?keyword=20250480&#x27;,</span> <span class="string">target=&#x27;_blank&#x27;,</span> <span class="string">rel=&#x27;noopener&#x27;)</span> <span class="string">萌ICP备20250480号</span></span><br></pre></td></tr></table></figure><h2 id="如何修改透明背景"><a href="#如何修改透明背景" class="headerlink" title="如何修改透明背景"></a>如何修改透明背景</h2><p>在<code>_config.butterfly.yml</code>中找到：</p><p>1、<code>footer_img</code>：网页最下面那个版权信息的块改成透明</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># The background image of footer</span></span><br><span class="line"><span class="attr">footer_img:</span> <span class="string">transparent</span></span><br></pre></td></tr></table></figure><p>2、<code>background</code>改成和封面一样的图片</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Website Background</span></span><br><span class="line"><span class="comment"># Can set it to color or image url</span></span><br><span class="line"><span class="attr">background:</span> <span class="string">/img/2.png</span></span><br></pre></td></tr></table></figure><p>3、<code>mask</code>蒙版效果，这个看个人喜好</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Add a mask to the header and footer</span></span><br><span class="line"><span class="attr">mask:</span></span><br><span class="line">  <span class="attr">header:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">footer:</span> <span class="string">ture</span></span><br></pre></td></tr></table></figure><p>4、<code>enter_transitions</code>关闭，不然会有白色渐变效果</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Page Transition</span></span><br><span class="line"><span class="attr">enter_transitions:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>5、新建css文件</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 文章页背景 */</span></span><br><span class="line"><span class="selector-class">.layout_post</span>&gt;<span class="selector-id">#post</span> &#123;</span><br><span class="line">    <span class="comment">/* 以下代表透明度为0.7 可以自行修改*/</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, .<span class="number">7</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 所有页面背景 */</span></span><br><span class="line"><span class="selector-id">#aside_content</span> <span class="selector-class">.card-widget</span>,</span><br><span class="line"><span class="selector-id">#recent-posts</span>&gt;<span class="selector-class">.recent-post-item</span>,</span><br><span class="line"><span class="selector-class">.layout_page</span>&gt;<span class="selector-tag">div</span><span class="selector-pseudo">:first-child</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.recent-posts</span>),</span><br><span class="line"><span class="selector-class">.layout_post</span>&gt;<span class="selector-id">#page</span>,</span><br><span class="line"><span class="selector-class">.layout_post</span>&gt;<span class="selector-id">#post</span>,</span><br><span class="line"><span class="selector-class">.read-mode</span> <span class="selector-class">.layout_post</span>&gt;<span class="selector-id">#post</span> &#123;</span><br><span class="line">    <span class="comment">/* 以下代表透明度为0.9 */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, .<span class="number">9</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*侧边卡片的透明度 */</span></span><br><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">    <span class="attr">--card-bg</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, .<span class="number">9</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 页脚透明 */</span></span><br><span class="line"><span class="selector-id">#footer</span> &#123;</span><br><span class="line">    <span class="comment">/* 以下代表透明度为0.1*/</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, .<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>6、引入css文件</p><p>在配置文件<code>__config.butterfly.yml</code>引入css文件,全局检索inject,在以下head位置插入字段</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Inject</span></span><br><span class="line"><span class="comment"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span></span><br><span class="line"><span class="comment"># 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span></span><br><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="comment"># - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/transpancy.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><h2 id="如何主页使用随机图片-部署时"><a href="#如何主页使用随机图片-部署时" class="headerlink" title="如何主页使用随机图片(部署时)"></a>如何主页使用随机图片(部署时)</h2><p>在<code> index.pug</code>文件相应位置覆盖原来的代码</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#...\node_modules\hexo-theme-butterfly\layout\includes\header\index.pug</span></span><br><span class="line"><span class="string">if</span> <span class="string">top_img</span> <span class="type">!==</span> <span class="literal">false</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">if</span> <span class="string">(Array.isArray(top_img))</span> <span class="string">top_img</span> <span class="string">=</span> <span class="string">top_img[Math.floor(Math.random()</span> <span class="string">*</span> <span class="string">top_img.length)]</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">bg_img</span> <span class="string">=</span> <span class="string">getBgPath(top_img)</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">headerClassName</span> <span class="string">=</span> <span class="string">globalPageType</span> <span class="string">===</span> <span class="string">&#x27;home&#x27;</span> <span class="string">?</span> <span class="string">&#x27;full_page&#x27;</span> <span class="string">:</span> <span class="string">globalPageType</span> <span class="string">===</span> <span class="string">&#x27;post&#x27;</span> <span class="string">?</span> <span class="string">&#x27;post-bg&#x27;</span> <span class="string">:</span> <span class="string">&#x27;not-home-page&#x27;</span></span><br></pre></td></tr></table></figure><p>在<code> __config.butterfly.yml</code>文件依次插入图片链接</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># The banner image of index page</span></span><br><span class="line"><span class="attr">index_img:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://pic1.imgdb.cn/item/68fcca363203f7be009eb930.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://pic1.imgdb.cn/item/68fd87da3203f7be009fe8f9.jpg</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://pic1.imgdb.cn/item/68fd87ef3203f7be009fe97e.jpg</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 帮助 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>尝试写一篇博客</title>
      <link href="/2025/10/25/%E5%B0%9D%E8%AF%95%E5%86%99%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/"/>
      <url>/2025/10/25/%E5%B0%9D%E8%AF%95%E5%86%99%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<h1 id="第一篇博客"><a href="#第一篇博客" class="headerlink" title="第一篇博客"></a>第一篇博客</h1><h2 id="写于成都"><a href="#写于成都" class="headerlink" title="写于成都"></a>写于成都</h2><p><img src="https://pic1.imgdb.cn/item/68fcd0143203f7be009ebe63.jpg"></p>]]></content>
      
      
      
        <tags>
            
            <tag> none </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2025/10/24/hellominai/"/>
      <url>/2025/10/24/hellominai/</url>
      
        <content type="html"><![CDATA[<h1 id="你好！！"><a href="#你好！！" class="headerlink" title="你好！！"></a>你好！！</h1><h2 id="hello-Minai"><a href="#hello-Minai" class="headerlink" title="hello Minai!!"></a>hello Minai!!</h2><p>这是一个测试页面</p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
